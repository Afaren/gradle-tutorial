# 1.3 Groovy字符串

### 字符串的种类
Groovy中有以下几种字符串形式：

#### 单引号字符串

`java.lang.String`的实例，支持转义，除了转义的字符外其它字符会原样输出，例如`'Hello \'Groovy\''`。

#### 双引号字符串

即所谓的`GString`，是`groovy.lang.GString`的实例，支持转义，可包含变量、表达式等（输出时会自动求值）

例如`"Hello $groovy"`，此处会去将groovy变量的值代入。

正如上面所说，另外一个比较有意思的是不仅支持变量，还支持表达式，例如`"2+3=${2+3}"`会输出`2+3=5`。

更进一步，不仅是表达式，GString还支持语句，例如

`"2+3=${def a = 2; def b = 3; a+b}"`

如果只是单纯一个语句，没有任何返回值，该GString的计算结果就是`null`，所以最后一个语句应该返回一个值用来表示该次计算的结果（不用写`return`）。

尽管如此，请不要在GString中写过多过于复杂的语句，虽然看上去很NB的样子，最后也只会徒增烦恼。

GString还可以简写成$（不加大括号），不过仅适用于点号运算符前，例如

`"Hello $person.name"`

_注：如果一个·`${}`大括号中包含`->`，表示该表达式是一个闭包，关于闭包，后面章节会详细说明。_

#### 多行字符串

即三个单引号或三个双引号的字符串，不用像Java那样每一行都以`\`连字符结尾或字符串相加，会原样输出，例如

```java
'''
 Hello Groovy
    你好，我是Groovy！
    单独来一行
原样输出, Haha~~
'''
```

#### 斜杠字符串

即被斜杠包围的字符串，例如：`"/.*foo.*/"`。

常用于正则表达式和模板，这些字符串本身没有必要转义（斜杠本身除外），所以，被斜杠包围的字符串除了斜杠本身的转义外，其他会被原样输出（不会被转义）。

_注：如果斜杠之间是空的，会被视为单行注释，而不会被视为空字符串。_

还有一种`$/`字符串因为用的比较少这里就不说了，有兴趣的可以自行搜索。

下面是一个字符串对照说明表

名称 | 语法 | 支持表达式等 | 多行 | 转义符
--- | --- | --- | --- | ---
单引号字符串 | `'...'` | 不支持 | 不支持 | \
三单引号字符串 | `'''...'''` | 不支持 | 支持 | \
双引号字符串 | `"..."` | 支持 | 不支持 | \
三双引号字符串 | `"""..."""` | 支持 | 支持 | \
斜杠字符串 | `/.../` | 支持 | 支持 | \
美元斜杠字符串 | `$/.../$` | 支持 | 支持 | $
